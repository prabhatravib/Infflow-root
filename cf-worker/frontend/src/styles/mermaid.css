/* Mermaid Diagram Styling for Clickability */
.mermaid .actor,
.mermaid .sequenceDiagram .actor {
  cursor: pointer !important;
  transition: all 0.2s ease !important;
  pointer-events: auto !important;
  font-size: 16px !important;
  font-weight: 700 !important;
}

.mermaid .actor:hover,
.mermaid .sequenceDiagram .actor:hover {
  filter: brightness(1.1) drop-shadow(0 0 6px rgba(255, 255, 255, 0.5)) !important;
  transform: scale(1.02) !important;
}

.mermaid .actor:hover rect,
.mermaid .sequenceDiagram .actor:hover rect {
  stroke-width: 3px !important;
  filter: brightness(1.1) !important;
}

.mermaid .actor text,
.mermaid .sequenceDiagram .actor text,
.mermaid .actor .label,
.mermaid .sequenceDiagram .actor .label,
.mermaid .actor-label,
.mermaid .sequenceDiagram .actor-label,
.mermaid .participant text,
.mermaid .sequenceDiagram .participant text {
  font-size: 16px !important;
  font-weight: bold !important;
  fill: #000000 !important;
  text-shadow: none !important;
  font-family: Arial, sans-serif !important;
  cursor: pointer !important;
  transition: all 0.2s ease !important;
}

.mermaid .actor rect,
.mermaid .sequenceDiagram .actor rect {
  fill: #ffffff !important;
  stroke: #000000 !important;
  stroke-width: 2px !important;
  transition: all 0.2s ease !important;
  cursor: pointer !important;
}

.mermaid .note,
.mermaid .sequenceDiagram .note {
  cursor: pointer !important;
  transition: all 0.2s ease !important;
}

.mermaid .note:hover,
.mermaid .sequenceDiagram .note:hover {
  filter: brightness(1.1) drop-shadow(0 0 6px rgba(255, 255, 255, 0.5)) !important;
  transform: scale(1.02) !important;
}

.mermaid .note:hover rect,
.mermaid .sequenceDiagram .note:hover rect {
  stroke-width: 3px !important;
  filter: brightness(1.1) !important;
}

.mermaid .note:hover text,
.mermaid .sequenceDiagram .note:hover text,
.mermaid .note:hover tspan,
.mermaid .sequenceDiagram .note:hover tspan {
  filter: brightness(1.1) !important;
  font-weight: 500 !important;
}

/* Selection styling */
.mermaid .actor.element-selected,
.mermaid .sequenceDiagram .actor.element-selected {
  filter: drop-shadow(0 0 6px #ffb300) !important;
}

.mermaid .actor.element-selected rect,
.mermaid .sequenceDiagram .actor.element-selected rect {
  stroke: #ffb300 !important;
  stroke-width: 4px !important;
  filter: drop-shadow(0 0 6px #ffb300) !important;
}

.mermaid .actor.element-selected text,
.mermaid .sequenceDiagram .actor.element-selected text {
  font-weight: normal !important;
  filter: drop-shadow(0 0 2px #ffb300) !important;
}

.mermaid .note.element-selected,
.mermaid .sequenceDiagram .note.element-selected {
  filter: drop-shadow(0 0 6px #ffb300) !important;
}

.mermaid .note.element-selected rect,
.mermaid .sequenceDiagram .note.element-selected rect {
  stroke: #ffb300 !important;
  stroke-width: 4px !important;
  filter: drop-shadow(0 0 6px #ffb300) !important;
}

.mermaid .note.element-selected text,
.mermaid .sequenceDiagram .note.element-selected text {
  font-weight: normal !important;
  filter: drop-shadow(0 0 2px #ffb300) !important;
}

/* Hover classes for JavaScript-triggered effects */
.mermaid .actor-hover,
.mermaid .sequenceDiagram .actor-hover {
  filter: brightness(1.1) drop-shadow(0 0 6px rgba(255, 255, 255, 0.5)) !important;
  transform: scale(1.02) !important;
}

.mermaid .actor-hover rect,
.mermaid .sequenceDiagram .actor-hover rect {
  stroke-width: 3px !important;
  filter: brightness(1.1) !important;
}

.mermaid .note-hover,
.mermaid .sequenceDiagram .note-hover {
  filter: brightness(1.1) drop-shadow(0 0 6px rgba(255, 255, 255, 0.5)) !important;
  transform: scale(1.02) !important;
}

.mermaid .note-hover rect,
.mermaid .sequenceDiagram .note-hover rect {
  stroke-width: 3px !important;
  filter: brightness(1.1) !important;
}

.mermaid .note-hover text,
.mermaid .sequenceDiagram .note-hover text,
.mermaid .note-hover tspan,
.mermaid .sequenceDiagram .note-hover tspan {
  filter: brightness(1.1) !important;
  font-weight: 500 !important;
}

/* Flowchart/Mind Map Node Hover Effects */
.mermaid .node,
.mermaid .flowchart .node,
.mermaid .mindmap .node,
.mermaid .radial .node {
  cursor: pointer !important;
  transition: all 0.3s ease !important;
  pointer-events: auto !important;
}

.mermaid .node:hover,
.mermaid .flowchart .node:hover,
.mermaid .mindmap .node:hover,
.mermaid .radial .node:hover {
  animation: softPulse 1.5s ease-in-out infinite !important;
  filter: brightness(1.05) drop-shadow(0 0 8px rgba(0, 0, 0, 0.15)) !important;
  transform: scale(1.02) !important;
}

.mermaid .node:hover rect,
.mermaid .flowchart .node:hover rect,
.mermaid .mindmap .node:hover rect,
.mermaid .radial .node:hover rect {
  stroke-width: 3px !important;
  stroke: #3b82f6 !important;
  filter: brightness(1.05) !important;
  box-shadow: 0 0 12px rgba(59, 130, 246, 0.4) !important;
}

.mermaid .node:hover text,
.mermaid .flowchart .node:hover text,
.mermaid .node:hover tspan,
.mermaid .flowchart .node:hover tspan,
.mermaid .mindmap .node:hover text,
.mermaid .mindmap .node:hover tspan,
.mermaid .radial .node:hover text,
.mermaid .radial .node:hover tspan {
  filter: brightness(1.05) !important;
  font-weight: 500 !important;
}

/* Additional hover effects for mind map specific elements */
.mermaid .mindmap .node:hover,
.mermaid .radial .node:hover {
  filter: brightness(1.1) drop-shadow(0 0 12px rgba(59, 130, 246, 0.3)) !important;
}

.mermaid .mindmap .node:hover rect,
.mermaid .radial .node:hover rect {
  stroke: #3b82f6 !important;
  stroke-width: 4px !important;
  fill: rgba(59, 130, 246, 0.05) !important;
}

/* Soft pulsing animation for hover effect */
@keyframes softPulse {
  0%, 100% {
    opacity: 1;
    transform: scale(1.02);
  }
  50% {
    opacity: 0.95;
    transform: scale(1.03);
  }
}

/* Selection styling for flowchart nodes */
.mermaid .node.element-selected,
.mermaid .flowchart .node.element-selected {
  filter: drop-shadow(0 0 8px #ffb300) !important;
  animation: none !important;
}

.mermaid .node.element-selected rect,
.mermaid .flowchart .node.element-selected rect {
  stroke: #ffb300 !important;
  stroke-width: 4px !important;
  filter: drop-shadow(0 0 6px #ffb300) !important;
}

.mermaid .node.element-selected text,
.mermaid .flowchart .node.element-selected text,
.mermaid .node.element-selected tspan,
.mermaid .flowchart .node.element-selected tspan {
  font-weight: normal !important;
  filter: drop-shadow(0 0 2px #ffb300) !important;
}

/* Center Mermaid diagrams in their container */
.mermaid-container {
  display: flex !important;
  justify-content: center !important;
  align-items: center !important;
  width: 100% !important;
  min-height: 400px !important;
  max-height: 80vh !important;
  overflow: auto !important;
}

.mermaid-container > div {
  display: flex !important;
  justify-content: center !important;
  align-items: center !important;
  width: 100% !important;
}

.mermaid-container svg {
  max-width: 100% !important;
  max-height: 80vh !important;
  height: auto !important;
  display: block !important;
  margin: 0 auto !important;
}

/* Normalize all Mermaid diagram text sizes */
.mermaid text,
.mermaid .node text,
.mermaid .actor text,
.mermaid .note text,
.mermaid .flowchart text,
.mermaid .sequenceDiagram text,
.mermaid .mindmap text {
  font-size: 16px !important;
  font-family: Arial, sans-serif !important;
}

/* Ensure consistent sizing for all diagram types */
.mermaid .node,
.mermaid .actor,
.mermaid .note {
  font-size: 16px !important;
}

/* Ensure SVG diagrams stay behind search bar */
svg[id^="m_"] {
  z-index: -1 !important;
}
svg[id^="m_"] * {
  z-index: -1 !important;
}
